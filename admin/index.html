<!doctype html>
<html>
<head><meta charset="utf-8"><title>Admin</title></head>
<body>
<h1>Upload Photo</h1>
<input id="user" placeholder="User">
<input id="pass" type="password" placeholder="Password"><br><br>
<input type="file" id="file" multiple>
<button id="upload">Upload</button>
<pre id="log"></pre>
<script>
const WORKER_URL = "https://gallery-signer.ww-ee7.workers.dev";

function log(msg){ document.getElementById('log').textContent += msg + "\n"; }

document.getElementById('upload').onclick = async () => {
  const file = document.getElementById('file').files[0];
  if (!file) return alert("Pick a file first");

  const formData = new FormData();
  formData.append("file", file);

  const auth = 'Basic ' + btoa(document.getElementById('user').value + ':' + document.getElementById('pass').value);

  const res = await fetch(WORKER_URL + "/upload", {
    method: "POST",
    headers: { Authorization: auth },
    body: formData
  });

  const data = await res.json();
  if (data.ok) log("Uploaded: " + data.fileUrl);
  else log("Error: " + JSON.stringify(data));
};
</script>
</body>
</html>
